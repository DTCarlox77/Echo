{% extends 'layouts/main.html' %}

{% block tittle %}Salas{% endblock %}
{% load static %}

{% block icon %}{% static 'icons/Rooms.svg' %}{% endblock %}

{% block content %}

<style>
    body {
        overflow-x: hidden;
    }
</style>

<div class="navbar mt-2">
    <div class="container d-flex">
        <h1 class="col-4 m-2">Echo</h1>
        <div class="d-flex nav-items">
            <a href="{% url 'create' %}"><h4 class="m-2">Crear</h4></a>
            <a href="{% url 'rooms' %}"><h4 class="m-2">Salas</h4></a>
            <a href="{% url 'myrooms' %}"><h4 class="m-2">Pertenecientes</h4></a>
            <a href="{% url 'logout' %}"><h4 class="m-2">Salir</h4></a>
        </div>
    </div>
</div>

<hr>
<div class="container">
    <input type="text" id="busqueda" class="form-control" placeholder="Búsqueda de salas">
</div>
<hr>
<div class="container principal" id="contenedor_salas">
    {% if rooms %}

        {% if public %}

            {% for room in rooms %}

                <div class="sala border rounded r-4 m-1 p-1 d-flex">
                    <div class="container conimagecon mt-3">
                        <img class="room_img" src="{{ room.imagen }}" alt="">
                    </div>
                    <div class="container contextto">
                        <br>
                        <h3>{{ room.nombre }}</h3>
                        <h6 style="color: green;">{% if not room.password %}Sala pública{% endif %}</h6>
                        <p>Creada por: {{ room.creador }}</p>
                        <button style="max-width: 150px; display:flex; justify-content:center;" type="button" class="btn btn-dark"><a style="color: white;" class="m-0 p-1" href="{% url 'room' id=room.id %}">Ingresar</a></button>
                        <br>
                    </div>
                </div>

            {% endfor %}

        {% else %}

            {% for room in rooms %}

                <div class="sala border rounded r-4 m-1 p-1 d-flex">
                    <div class="container conimagecon mt-3">
                        <img class="room_img" src="{{ room.sala.imagen }}" alt="">
                    </div>
                    <div class="container contextto">
                        <br>
                        <h3>{{ room.sala.nombre }}</h3>
                        <h6 style="color: green;">{% if not room.sala.password %}Sala pública{% endif %}</h6>
                        <p>Creada por: {{ room.sala.creador }}</p>
                        <button style="max-width: 150px; display:flex; justify-content:center;" type="button" class="btn btn-outline-dark"><a style="color: white;" class="m-0 p-1" href="{% url 'room' id=room.sala.id %}">Ingresar</a></button>
                        <br>
                    </div>
                </div>
                
            {% endfor %}

        {% endif %}
    
    {% else %}

    <div class="border rounded m-2 p-4 d-flex">
        <div class="container">
            <h3>No hay salas disponibles</h3>
            <br>
            <p>Puedes animarte a crear una en la pestaña de "Crear".</p>
        </div>
    </div>

    {% endif %}

    <!-- <nav aria-label="...">
        <ul class="pagination pagination-lg">
            <li class="page-item active" aria-current="page">
                <span class="page-link">1</span>
            </li>
            <li class="page-item"><a class="page-link" href="#">2</a></li>
            <li class="page-item"><a class="page-link" href="#">3</a></li>
        </ul>
    </nav> -->

</div>
<div class="alert alert-primary m-3">
    <p>Has iniciado sesión con el perfil de:</p>
    <h5 class="m-0">{{ user.username }}</h5>
    <br>
</div>
<div class="container m-1">
    <h6>Echo - Desarrollada por DTCarlox77</h6>
    <p>CS50W - Project 5 (Finnal)</p>
</div>

<script src="{% static 'javascript/options.js' %}"></script>
    
{% endblock %}